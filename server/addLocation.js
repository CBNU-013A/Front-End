const mongoose = require("mongoose");
const connectDB = require("./database"); // DB 연결 코드
const Location = require("./models/Location");

async function insertLocation() {
  await connectDB(); // MongoDB 연결

  try {
    const sampleLocation = [
      {
        id: "loc001",
        name: "서울 타워",
        address: "서울특별시 용산구 남산공원길 105",
        location: {
          latitude: 37.5511694,
          longitude: 126.9882266,
        },
        tell: "02-7722-2023",
        keywords: [],
        review: [],
      },
      {
        id: "loc002",
        name: "경복궁",
        address: "서울특별시 종로구 사직로 161",
        location: {
          latitude: 37.579617,
          longitude: 126.977041,
        },
        tell: "02-7370-0000",
        keywords: [],
        review: [],
      },
      {
        id: "loc003",
        name: "제주 성산일출봉",
        address: "제주특별자치도 서귀포시 성산읍 성산리",
        location: {
          latitude: 33.458915,
          longitude: 126.943828,
        },
        tell: "064-710-7923",
        keywords: ["자연", "산", "리뷰를", "추가함", "데이터", "없어요"],
        review: ["성산일출봉 리뷰1", "성산일출봉 리뷰2", "성산일출봉 리뷰3"],
        image: [
          "https://encrypted-tbn1.gstatic.com/licensed-image?q=tbn:ANd9GcRM3zWKXQfX-6vd3wKpn-yTPoj0oWIuAVgg7TQi6T-AzbYMe0quwmnB8PDPryYMnwKMdEdatbiCoGWUpz7DiXfIqSX0pl2culQjx9xu5ck",
          "https://encrypted-tbn0.gstatic.com/licensed-image?q=tbn:ANd9GcR8YaEFWFOfd29vtccb3EisO8K2aSNWP6NPX6LVBilOctz0N881qh1t2BLoaPgfD_-cL2Jh31tpfz-b6RO38dIx2vy0NjJcLqcNW9r0Cw",
          "https://encrypted-tbn1.gstatic.com/licensed-image?q=tbn:ANd9GcRM3zWKXQfX-6vd3wKpn-yTPoj0oWIuAVgg7TQi6T-AzbYMe0quwmnB8PDPryYMnwKMdEdatbiCoGWUpz7DiXfIqSX0pl2culQjx9xu5ck",
        ],
      },
      {
        id: "loc004",
        name: "부산 해운대해수욕장",
        address: "부산광역시 해운대구 우동",
        location: {
          latitude: 35.158698,
          longitude: 129.160384,
        },
        tell: "051-749-7601",
        keywords: [],
        review: [],
      },
      {
        id: "loc005",
        name: "강원도 설악산 국립공원",
        address: "강원특별자치도 속초시 설악동",
        location: {
          latitude: 38.119444,
          longitude: 128.465833,
        },
        tell: "033-636-7700",
        keywords: [],
        review: [],
      },
      {
        id: "loc006",
        name: "전주 한옥마을",
        address: "전라북도 전주시 완산구 기린대로 99",
        location: {
          latitude: 35.815005,
          longitude: 127.151733,
        },
        tell: "063-281-1511",
        keywords: [],
        review: [],
      },
      {
        id: "loc007",
        name: "인천 차이나타운",
        address: "인천광역시 중구 차이나타운로 49번길",
        location: {
          latitude: 37.474231,
          longitude: 126.616521,
        },
        tell: "032-760-6487",
        keywords: [],
        review: [],
      },
      {
        id: "loc008",
        name: "광안대교",
        address: "부산광역시 수영구 광안해변로 219",
        location: {
          latitude: 35.153127,
          longitude: 129.118596,
        },
        tell: "051-780-0000",
        keywords: [],
        review: [],
      },
      {
        id: "loc009",
        name: "경주 불국사",
        address: "경상북도 경주시 불국로 385",
        location: {
          latitude: 35.79015,
          longitude: 129.332979,
        },
        tell: "054-746-9913",
        keywords: [],
        review: [],
      },
      {
        id: "loc010",
        name: "남해 독일마을",
        address: "경상남도 남해군 삼동면 독일로 14",
        location: {
          latitude: 34.825142,
          longitude: 128.070786,
        },
        tell: "055-860-3300",
        keywords: [],
        review: [],
      },
      {
        id: "loc041",
        name: "청남대",
        address: "충청북도 청주시 상당구 문의면 청남대길 646",
        location: {
          latitude: 36.518296,
          longitude: 127.482745,
        },
        tell: "043-257-5080",
        keywords: [],
        review: [
          "1980년 대청댐 준공식에 참석한 전두환 대통령이 대청호 일대의 경관에 매료되어 중부권에 별장의 필요성이 논의되었고 주변 환경과 지리적 요건이 잘 맞아 경호실장에 의해 1983년 6월 착공, 6개월만인 12월에 완공되었다.",
          "‘청남대’는 충청북도 청주시 대청댐 부근 1,825,647㎡의 면적에 지어진 대통령 전용별장으로 ‘따뜻한 남쪽의 청와대’라는 의미이다.",
          "가을 분위기를 느끼며 잘 가꾸어진 산책로를 걸으며 힐링의 시간을 가져 보세요.",
          "2024년 10월 11일 현재 단풍은 아직 옅지만 푸른 하늘 아래 대청호를 옆에 끼고 소나무숲 사이 산책로를 걸으며 맑은 공기를 마시면서 일상의 피로를 씻어낼 수 있습니다.",
          "9시 정각에 문을 열어서 일찍 도착했지만 주차장에 들어가지 못하고 기다렸다가 시간 맞춰 들어가서 주차할 수 있었어요.",
          "산책코스로 길이 너무 좋았는데 모든 코스로 다 돌고 싶었지만 시간관계상 반 정도 돌고 왔네요.",
          "가을이라 그런지 평일에도 생각보다 사람이 많았지만 구경할 곳이 많고 넓어서 복잡하지 않았어요.",
          "계절마다 매력이 다를 것 같아서 겨울에도 또 오고 싶어요.",
          "단풍 시즌에 가서 정말 사람 많았습니다.",
          "워낙 넓어서 내부에 사람이 바글바글한 느낌보다는, 들어가는 도로가 1차선이라 6km를 1시간 반 걸려서 들어갔습니다.",
          "성수기 때는 아침 일찍 가서 싸온 김밥이나 샌드위치 간단히 먹고 관광하고 나와서 주변 식당 가는 것이 속 편할 것 같습니다.",
          "내부는 날씨만 좋다면 자연과 공원화가 잘되어 있어 걷기 좋았습니다. 편안한 신발 필수.",
          "24년 10월 26일에 방문, 가을에 단풍 구경을 위해서인지 몹시 많은 방문객들로 인해 오전 10시쯤 도착했는데도 주차장까지 진입하는 길부터 정체에 시달렸고 주차장에서도 꽤 오래 기다려야 했습니다.",
          "어르신들 단체 관광객이 무척 많네요.",
          "기념관이나 기록관에서 볼거리는 생각보다 많지 않았으나 조경이 잘 되어 있어서 청주나 대전을 방문한다면 한번 가볼 만한 것 같습니다.",
          "청남대는 걷기 좋은 장소입니다. 경치도 좋고 그늘도 있고 아이들과 함께 걷거나 유모차 보행도 가능합니다.",
          "굉장히 좋아요. 건물 안에 예전 대통령 생활 공간도 가까이에서 볼 수 있고 산책로도 경사가 그다지 없어 편하게 움직일 수 있습니다.",
          "대통령의 별장 청남대입니다. 내부 산책로가 다양하고 볼거리가 많아 2~3시간 여유 부리며 산책하기 좋은 곳입니다. 입장료 6천원, 승용차 주차료 2천원.",
          "잘 관리된 곳으로 산책하기 너무 좋고 볼거리도 좋아요.",
          "청남대 초입부터 상쾌한 가로수길이 반겼다. 공휴일이라 단체 손님도 많았다. 조경을 멋지게 해놓았다.",
        ],
      },
      {
        id: "loc042",
        name: "상당산성",
        address: "충청북도 청주시 상당구 산성동 산28-2",
        location: {
          latitude: 36.607729,
          longitude: 127.527424,
        },
        tell: "043-200-2114",
        keywords: [],
        review: [
          "가을에는 성곽 주위로 산책하기 좋아요. 등산로도 험준하지 않아 아이들과 함께 산책하기 좋습니다. 주차 자리도 많아 이동하기 편해요.",
          "청주에서 가까워 접근성도 좋고 여러 산책로가 있어 자신에게 맞는 경로를 선택할 수 있어요. 자연 속에서 산책하기 좋은 장소입니다.",
          "남문 주차장에서 호수까지 걸어오면 멋진 카페와 음식점들이 많아요. 천천히 걸으며 남문 주차장으로 돌아가는 코스도 추천합니다.",
          "성벽을 따라 한 바퀴 걷는 데 약 1시간 30분 소요됩니다. 청주시내가 한눈에 들어와 경치가 아주 좋아요.",
          "가을 단풍이 정말 아름답고, 성곽길을 따라 걷기에 딱 좋아요. 가족 나들이나 연인과의 데이트 코스로 추천합니다.",
          "산책로와 등산로가 잘 정비되어 있어 걷기 편합니다. 남문에서 시작해 서문, 북문 방향으로 걷는 코스를 추천합니다.",
          "비오는 날도 운치가 있는 곳입니다. 가벼운 산책이나 본격적인 등산 모두 가능해서 누구와 함께 와도 좋아요.",
          "남문 주차장에서 바로 성곽길로 연결되어 편하고, 주변에 잔디밭과 피크닉 공간도 잘 조성되어 있어요.",
          "청주시내가 한눈에 보이는 뷰 포인트가 많아 사진 찍기도 좋고, 성곽길을 따라 걷는 코스가 적당히 운동하기 좋아요.",
          "봄, 여름, 가을, 겨울 모두 매력이 다릅니다. 특히 가을 단풍 시즌이 가장 아름답습니다.",
          "주차장과 입장료 모두 무료라 부담 없이 방문할 수 있습니다. 주차 공간도 넉넉한 편이에요.",
          "성곽길을 걸으며 청주시내와 주변 산을 바라보는 경치가 매우 좋습니다. 가족 나들이, 연인 데이트 모두 추천해요.",
          "성곽을 따라 걷는 트레킹 코스가 잘 정비되어 있어 산책하기 좋습니다. 편한 운동화 필수!",
          "산성 아래 넓은 잔디밭에서 돗자리 펴고 피크닉하기 좋습니다. 산책 후 먹는 동동주와 막걸리도 일품입니다.",
          "성곽 한 바퀴 도는데 1시간 30분 정도 걸립니다. 중간에 벤치나 쉴 곳이 더 있으면 좋겠어요.",
          "청주 시민들의 대표적인 주말 나들이 장소입니다. 등산 후 성안 마을에서 맛있는 음식도 즐길 수 있어요.",
          "겨울에 방문했는데 눈 덮인 풍경이 참 아름다웠습니다. 계절마다 다른 매력이 있어 여러 번 와도 좋아요.",
          "청주 도심에서 가까워 접근성이 좋고, 자연 속에서 힐링할 수 있는 산성입니다. 무료 주차도 장점입니다.",
          "아이들과 함께 산책하며 자연을 체험하기 좋은 곳입니다. 성곽길을 따라 걷다가 피크닉도 즐길 수 있어요.",
          "조선시대 역사와 자연이 공존하는 멋진 장소입니다. 청주를 방문하면 꼭 가봐야 할 명소입니다.",
        ],
      },
      {
        id: "loc043",
        name: "국립청주박물관",
        address: "충청북도 청주시 상당구 명암로 143",
        location: {
          latitude: 36.645512,
          longitude: 127.488493,
        },
        tell: "043-229-6500",
        keywords: [],
        review: [],
      },
      {
        id: "loc044",
        name: "수암골",
        address: "충청북도 청주시 상당구 수동 81-12",
        location: {
          latitude: 36.637092,
          longitude: 127.493932,
        },
        tell: "043-200-2232",
        keywords: [],
        review: [],
      },
      {
        id: "loc045",
        name: "국립현대미술관 청주",
        address: "충청북도 청주시 상당구 상당로 314",
        location: {
          latitude: 36.640028,
          longitude: 127.480653,
        },
        tell: "043-261-1400",
        keywords: [],
        review: [
          "주기적으로 방문할만할 가치가 있습니다. 주차 공간도 여유롭고 산책 공간도 넓습니다. 주말에 방문하면 수장고에도 차례로 입장 가능합니다.",
          "청주문화제조창에 청주 구도심을 복원한 조형물이 설치되어 있네요. 청주문화제조창 취지에 맞게 잘 복원이 된 것 같습니다.",
          "무료로 입장했어요. 그동안 입장 안되었던 옥상 올라가봤어요. 평일이지만 학생 체험학습으로 붐볐습니다.",
          "5층에 챔피온1250이 있다. 아이와 오기 좋다. 옷도 팔고 도서관도 있고 식당도 있다. 할 게 많다.",
          "초4 여자아이 미술관 개방수장고 도슨트 설명 우연히 시간이 맞아서 들었어요. 뭐 알아들을까 했는데 색다른 경험이었다며 좋아했어요.",
          "작품이 꽤 많이 전시되어있고 미술관 자체는 크게 잘되어 있으나 공간 대비 작품이 너무 다닥다닥 붙어 있어서 조금 정신없이 보게 되는 게 있음.",
          "식당들도 많고 플리마켓도 하고 미술관도 잘해놨지만 그 외의 볼거리들도 많네요. 5층 입장료 2000원 그 외는 무료.",
          "청주사람임에도 미술관은 처음 방문해보는데 전시도 매우 좋았고 무엇보다 전시를 관람하기에 너무나도 쾌적한 환경이 좋았습니다. 또 가고 싶어요.",
          "현대 미술관 수장고 성격이 강해서 온전한 전시에 집중해 있는 공간은 아닙니다. 다만 기획 전시로 하고 있던 피카소의 도예 작품이라던지, 이건희 컬렉션으로 볼 수 있는 세계적인 명화들을 내 눈으로 직접 볼 수 있다는 게 정말 만족스러웠고, 옆에 마련된 식당과 몰을 함께 이용하니 주말 나들이로 좋은 공간이라 느꼈습니다.",
          "재미있는 작품들을 볼 수 있어 좋았다. 1층 개방형 수장고에 있는 조소 작품들이 인상적이었다. 평일에는 관람객이 적어 여유롭게 관람할 수 있었다.",
        ],
      },
      {
        id: "loc046",
        name: "청주동물원",
        address: "28311, 224 명암로 상당구 청주시 충청북도",
        location: {
          latitude: 36.644274,
          longitude: 127.492379,
        },
        tell: "043-201-4880",
        keywords: [],
        review: [
          "선선한 가을바람 즐기며 산책하듯 다녀오니 좋았습니다. 날씨가 좋아서인지 많은 동물들이 밖에 나와서 관중 입장에서는 볼 것도 많았습니다. 사육사 아저씨들도 친절하시고 가을 단풍도 예뻤습니다. 4계절 다녀도 좋은 곳입니다.",
          "입장료 천원으로 이렇게 많은 동물들을 만나볼 수 있다니.. 동물원에 오게 된 동물들의 사연들도 같이 있어 뜻 깊었던 것 같아요. 애정으로 돌보시는 것이 느껴지는 장소였고 행복한 시간이었습니다♡",
          "입장료가 저렴해요. 동물은 생각보다 많이 없었지만 보호가 목적인 곳이라 괜찮았습니다. 대신 오르막길이 어마어마합니다. 다둥이 부모님들은 유모차 끌기 힘드실 거에요...쌍둥이 유모차 아빠 분이 거꾸로 끌고 내려가시는 거 봄ㅇㅁㅇ",
          "관람객보다 동물들을 위해 조성된 분위기의 동물원. 그래서 경사진 인도였지만 힘든지 모르고 마음 편히 관람함. 비가 내리고 있어서 바람이 못 볼 줄 알았는데 마침! 쉬하러 나온 바람이를 만나기도 함~^^ 조류 홍학 사육장?은 장관임 정말정말 넓고 높아서 망원경으로 봐야함!!",
          "청주동물원에 대한 최근 영상을 보고 방문하게 되었음. 구조된 동물이나 야생으로 가기 전에 혹은 돌아가기 어려운 동물들이 많고 동물원의 환경에 대해 진지하게 고민하는 동물원임…",
          "구조된 야생 동물들이 보호받고 있다는 이야기를 듣고 가게 됨. 오전에 가면 자고 있는 동물들이 꽤 많아서 대다수가 자고 있는 모습만 볼 수 있음.…",
          "동물친화 동물원입니다. 관람을 위한 환경은 그리 친절하지 않을 수 있습니다. 동물원 규모나 다양성도 만족스럽지 않을 수 있습니다. 그렇지만 살고 있는 동물들을 위한 노력이 보여지는 곳입니다.",
          "어린이 체험관 어딜 가나 비슷비슷하지만 안전에 항상 신경 쓰는 모습이 보기 좋았어요. 놀이공원도 약하지만 가성비가 너무 좋았고 어르신들이 친절하셨어요. 공룡체험관도 잘 되어 있고 쾌적했어요. 동물원은 약간 산속 언덕이라 어린아이, 노약자 보행이 불편하면 힘들 수도 있어요. 가성비 너무 좋게 잘 보고 왔어요. 다음에 또 방문할게요~",
          "티켓값이 엄청 저렴합니다. 많은 동물들이 있는 건 아니지만 좋았습니다. 그러나 경사가 너무 있어서 관람하는데 힘듬이 있었습니다. 그 외에는 다 좋았습니다.",
          "동물복지 수준이 올라가는 게 점점 보여요. 바람이(사자)가 편안해 보여 좋네요. 응원합니다.",
        ],
      },
      {
        id: "loc047",
        name: "문암생태공원",
        address: "충청북도 청주시 흥덕구 문암동 122-2",
        location: {
          latitude: 36.663725,
          longitude: 127.437774,
        },
        tell: "043-201-0732",
        keywords: [],
        review: [],
      },
      {
        id: "loc048",
        name: "정북동 토성",
        address: "충청북도 청주시 상당구 정북동 351-1",
        location: {
          latitude: 36.706186,
          longitude: 127.512517,
        },
        tell: "043-220-6168",
        keywords: [],
        review: [],
      },
      {
        id: "loc049",
        name: "육거리종합시장",
        address: "충청북도 청주시 상당구 석교동 60-4",
        location: {
          latitude: 36.627768,
          longitude: 127.502639,
        },
        tell: "043-223-6696",
        keywords: [],
        review: [
          "청주시 최대규모의 상설종합재래시장 시장 남쪽에 1, 2, 3 주차장을 운영하고 있고 시장 전용 카트도 준비 되어 있다.…",
          "국수랑 만두 돈까스 다 너무 맛있게 잘 먹었습니다~",
          "처음엔 잘 몰랐는데 들어가면 들어갈수록 크다. 굉장히 다양한 종류의 거리가 있어서 구경할 만하다.…",
          "청주 육거리시장 꽤 넓고 청결하게 잘 관리되고 있는 전통시장이예요. 먹거리도 다양하고 상품도 다양합니다. 외국마켓들이 있어서 베트남 식료품 구하기 편해요.",
          "청주에서 가장 큰 시장으로 입구에 먹거리 골목이 있습니다. 먹거리 골목 초입에 족발집이 있고 안쪽으로 만두집, 떡집, 전집 등이 있습니다. 쉬어쉬엄 한바퀴 다 돌면 30분쯤 걸립니다. 시장은 깨끗하고 지붕이 있습니다. 근데 1층에는 식사를 할 수 있는 식당이 없습니다",
          "가격 저렴하고, 다양한 상품이 많아서 방문해서 먹거리 이용해보세요~",
          "전국 유명 전통시장이죠? 육거리는 뻥튀기 튀러 가요. 깔끔해요.…",
          "날씨가 더운데 사람들이 많이 있네요. 사람들 정이 느껴지는 그런곳",
          "시장이 매우 큽니다. 시장 맛집도 많은 것 같아요. 저번에 소문난 만두 먹으러 왔다가 허탕쳐서 두 번째로 찾아간 육거리시장! 그때 대신 코끼리 만두로 사갔는데 맛있던 기억이 있어서 소문난 만두와 코끼리 만두를 둘다 사왔네요. 그래선지 청주에 가면 꼭 육거리시장 생각이 나네요.",
          "육거리종합시장 상인분들은 모두가 친절하신데 제2주차장 주차료 받는 사람은 불친절하고 항상 보면 화 난 사람처럼 거칠고 퉁명스러워 인성교육 좀 하였으면 좋겠습니다.",
          "육거리 시장이 크기도 크지만 환경적으로 깨끗하고 거리정리정돈이 잘 되어 있어 보기 좋았다. 상점에서 물건 구매시 만원 30분권 1장씩 준다 그걸로 유료주차장 비용을 지불하면 되서 그 시스템도 맘에 든다. 모든것이 다 있는 육거리 시장 강추^^",
          "육거리 명동의류 근처 속옷나라에는 등산, 골프, 자전거, 오토바이 장갑 등을 단돈 2천원에 팔더라구요. 가죽이라 그냥 꽁짜로 사는듯 합니다.",
          "없는게 없는 전통시장으론 최고 명절전에는 사람사는 맛이 나고 가격도 저렴하게 판매하니 많은 이들이 모여든다.",
          "이것저것 살것도 많고 맛있는 집들도 많아서 재래시장 구경하면서 먹방하기 좋아요~~ 맛집들도 많고 가격도 저렴해서 좋아요~ 그곳에서 맛본 현미당 누룽지도 맛있었어요~~",
          "청주육거리시장~^^ 두번째 가보는데~ㅋㅋ 꽈배기, 호떡, 떡!!ㅋㅋㅋ 맛있쩡ㅋㅋ…",
          "옛날처럼 직접 쌀이나 옥수수를 가져가 뻥튀기나 튀밥을 만들 수 있는 가게가 2군데나 있다.",
          "우선 넓고 볼거리 먹거리 많아서 좋습니다. 물건도 좋았습니다. 주차권은 만원이상 구매시 한장(30분) 지급해줍니다.",
          "명절 전날 가보면 사람도 많고 먹거리도 많네요. 재래시장의 느낌을 충분히 느끼실 수 있어요.",
          "청주의 가장 큰 재래시장이지요. 물건이 싸서 구경삼아 자주 가요. 새가덕 순대집과 금강설렁탕은 유명한 곳이라네요. 갈때마다 포장해와서 푸짐하게 먹어요.…",
          "요즘 시장 왕깔끔. 이거 저거 골라 보고 구경하고 사는 재미.",
          "주말이라 그런지 공용주차장 차량이용객이 많았어요. 기대가 컸는지 특색있는 시장은 아닌듯 일반시장 느낌이였어요.",
          "볼거리 먹거리가 많은 육거리시장 소문난만두와 새거리순대는 필수",
        ],
      },
      {
        id: "loc050",
        name: "문화휴식공원",
        address: "충청북도 청주시 청원구 오창읍 오창공원로 311",
        location: {
          latitude: 36.712622,
          longitude: 127.422684,
        },
        tell: "043-201-8622",
        keywords: [],
        review: [],
      },
      {
        id: "loc051",
        name: "청주 고인쇄박물관",
        address: "충청북도 청주시 흥덕구 직지대로 713",
        location: {
          latitude: 36.628568,
          longitude: 127.436942,
        },
        tell: null,
        keywords: [],
        review: [],
      },
      {
        id: "loc052",
        name: "용화사",
        address: "충청북도 청주시 서원구 무심서로 565",
        location: {
          latitude: 36.612912,
          longitude: 127.488383,
        },
        tell: "043-274-2159",
        keywords: [],
        review: [],
      },
    ];

    // ✅ map의 모든 비동기 작업이 완료될 때까지 기다리기 위해 Promise.all 사용
    await Promise.all(
      sampleLocation.map(async (location) => {
        try {
          const updatedLocation = await Location.findOneAndUpdate(
            { id: location.id }, // 검색 조건: id가 동일한 경우
            location, // 업데이트할 데이터
            { new: true, upsert: true } // `new: true`는 업데이트 후 결과 반환, `upsert: true`는 없으면 새로 추가
          );

          if (updatedLocation) {
            console.log(
              `✅ 장소 저장 완료 (업데이트 또는 추가됨): ${location.name}`
            );
          }
        } catch (error) {
          console.error("❌ 장소 저장 실패:", error);
        }
      })
    );
  } catch (error) {
    console.error("❌ 전체 과정 중 오류 발생:", error);
  } finally {
    mongoose.connection.close(); // 연결 종료
    console.log("✅ MongoDB 연결 종료");
  }
}

insertLocation();
